# Statistics and Psych-specific Stuff


## Create or sample from a distribution

*Creating a binomial distribution*

When you do this, you are setting the true population parameter; you are in control of the Data Generating Process and the true distribution

In a binomial distribution, the parameter is normally distributed, and can take any value from 0.0 to 1.0
But the data that this process generates is not normal
```{r}
rbinom(n= 1000, size= 1, prob =  0.5)

rnorm(n=2500,mean=500, sd=100)
```


## Find Cohen's Kappa (Interrater reliability)

Useful for IRR agreement on categorical variables

Going to use the `psych` package for this:
https://www.rdocumentation.org/packages/psych/versions/2.1.6/topics/cohen.kappa

See [here](https://www.statisticshowto.com/cohens-kappa-statistic/) for an overview of what Cohen's Kappa is if you need a recap/intro.



## Reverse-code a variable

To reverse-score a variable, you should use `car::recode()`
Can be done a few different ways, depending on how many variables you're looking to recode:

```{r eval=FALSE}

# Recode just one variable
df$column=recode(df$column,"1 = 7 ; 2 = 6 ; 3 = 5 ; 5 = 3 ; 6 = 2 ; 7 = 1")

# Recode a select bunch of variables
df=df %>% mutate(across(c(family_close : family_feelings), recode, "1 = 7 ; 2 = 6 ; 3 = 5 ; 5 = 3 ; 6 = 2 ; 7 = 1"))

# Recode the whole damn thing. All columns.
df=df %>% map_df(recode, "1 = 7 ; 2 = 6 ; 3 = 5 ; 5 = 3 ; 6 = 2 ; 7 = 1")
```


## Create a relative ranking among several variables

```{r}
y=y %>% 
  pivot_longer(
    cols= starts_with("barrier"),
    names_to = "variable",
    values_to = "participant_score") %>% 
  arrange(id,participant_score) %>% 
  group_by(id) %>% # group the scores to be ranked by participant
  mutate(rank=rank(participant_score, 
                   ties.method = "max", # When two numbers are tied, they both get the higher number (e.g., 1,2,3,3)
                   na.last = FALSE)) # when this is set to TRUE it ranks NA's highest in the rank order


# Flip the ranks around so they are highest to lowest
y$rank=car::recode(y$rank,"1 = 6 ; 2 = 5 ; 3 = 4 ; 4 = 3 ; 5 = 2 ; 6 = 1")
```



## (Almost) all statistics made easy

https://easystats.github.io/easystats/



