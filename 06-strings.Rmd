# Working with Strings


## Remove a pattern from a string

```{r chapter_6}

price_table=tribble(~car, ~price,
        "Corvette", "$65,000",
        "Mustang GT", "$40,000")

# BASE R METHOD (sub by replacing something with nothing)
gsub("\\$", "",price_table$price) # (pattern, replace with, object$column)

# TIDYVERSE METHOD
str_remove(price_table$price, pattern = "\\$")
```


## Replace one pattern in a string with another

Tidyverse command: `str_replace()`
Base R command: `gsub()`

```{r 6.2}
# base R
gsub(mtcars, replacement = )

#tidyverse


```


## Find (i.e., filter for) all instances of a string

Useful for finding very specific things inside a column (e.g., one particular person's name in a roster of names; everyone with a particular last name)

Tidyverse command: `str_detect()`
Base R command: `grepl()`

Note both must be nested inside of `filter()`
```{r 6.3, eval=FALSE}

mtcars=rownames_to_column(mtcars, var = "car")

# base R
mtcars |> filter(grepl("Firebird", car))

# tidyverse
mtcars %>% filter(str_detect(car,"Firebird"))
```

You can also search for **multiple strings simultaneously** by including the "or" logical operator *inside* the quotes.

```{r}
mtcars |> filter(str_detect(car, "Firebird|Fiat"))
```

You can also include the negation logical operator to filter for all instances *except* those with the specified string.

```{r eval=FALSE}
# base R
mtcars |> filter(!(grepl("Pontiac", car)))

# tidyverse
mtcars |> filter(!(str_detect(car, "Pontiac")))
```




## Force all letters to lower case

Use `str_to_lower()`

```{r 6.4, chapter_6_end}
blah=tribble(~A, ~B,
             "A","X",
             "A","X")

blah

blah$A=str_to_lower(blah$A)

blah
```

